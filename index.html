<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Measurement Demo</title>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-W5NTT98P');</script>
  <!-- End Google Tag Manager -->

  <style>
    #cookie-banner {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #333;
      color: #fff;
      padding: 10px;
      text-align: center;
      font-size: 14px;
    }
    #cookie-banner button {
      margin-left: 10px;
      padding: 5px 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W5NTT98P"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
     
  <h1>SpetsTeknika Rentals Demo</h1>
  <p>Practice site for tracking leads.</p>

  <!-- Call button -->
  <a href="tel:+1234567890" id="call-btn" data-cta="call_header">ðŸ“ž Call us</a>

  <!-- Lead form -->
  <form id="lead-form" action="https://example.com/form-handler" method="POST">
    <label>
      Service:
      <select name="lead_service">
        <option value="avtovyshka">Avtovyshka</option>
        <option value="avtokran">Avtokran</option>
      </select>
    </label><br>

    <label>
      City: <input type="text" name="lead_city">
    </label><br>

    <label>
      Urgency:
      <select name="lead_urgency">
        <option value="today">Today</option>
        <option value="48h">48 hours</option>
        <option value="scheduled">Scheduled</option>
      </select>
    </label><br>

    <!-- Hidden UTM fields -->
    <input type="hidden" id="utm_source" name="utm_source">
    <input type="hidden" id="utm_campaign" name="utm_campaign">

    <button type="submit">Submit Request</button>
  </form>

  <!-- Script to fill UTMs -->
  <script>
    const params = new URLSearchParams(window.location.search);
    ['utm_source','utm_campaign'].forEach(k=>{
      const v = params.get(k);
      if(v) document.getElementById(k).value = v;
    });
  </script>

  <!-- Minimal cookie banner -->
  <div id="cookie-banner">
    This site uses cookies for analytics.
    <button id="accept-cookies">Accept</button>
  </div>

  <script>
    document.getElementById("accept-cookies").addEventListener("click", function() {
      dataLayer.push({ event: "consent_granted" });
      document.getElementById("cookie-banner").style.display = "none";
      console.log("Consent granted pushed to dataLayer");
    });
  </script>
</body>
</html>
